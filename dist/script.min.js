/* ClipPop v1.0.0 Copyright 2025 withApps Licensed under Creative Commons Legal Code (https://github.com/withapps/ClipPop/blob/main/LICENSE)*/'use strict';(function(u,p){const O=navigator.userAgent;var N=u.location.pathname;const F=p.querySelectorAll.bind(p),n=p.querySelector.bind(p),G=atob,P=(new RegExp("[?&]"+encodeURIComponent("mid")+"=([^&]*)")).exec(p.currentScript.src)[1],Q=(new RegExp("[?&]"+encodeURIComponent("client_id")+"=([^&]*)")).exec(p.currentScript.src)[1],B=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(O)?!0:!1,ma=(N=N.match(/\/skin-([a-z]+)\/?/))&&N[0]?N[0]:"";if(!P||!Q)return!1;let C="",k={},J=-1,R=0,K=!0,l="",H=!0,x=!1,v=0,w=0,V="object"===typeof CAFE24&&"undefined"!==typeof CAFE24.SDE_SHOP_NUM?CAFE24.SDE_SHOP_NUM:null;const na=function(a){return new Promise(function(b,c){(function(d){d.get(a,function(h,g){h&&console.error(h);h?c(h):b(g)})})(CAFE24API.init({client_id:Q}))})},E=(a,b={})=>{a=p.createElement(a);b.id&&(a.id=b.id);b.class&&(Array.isArray(b.class)?a.classList.add(...b.class):"string"===typeof b.class&&(a.className=b.class));if(b.attributes)for(var c in b.attributes)b.attributes.hasOwnProperty(c)&&a.setAttribute(c,b.attributes[c]);b.textContent?a.textContent=b.textContent:b.htmlContent&&(a.innerHTML=b.htmlContent);if(b.parentNode){if("string"===typeof b.parentNode){if(c=p.getElementById(b.parentNode),!c)return console.error(`Parent element with ID "${b.parentNode}" not found.`),a}else if(b.parentNode instanceof HTMLElement)c=b.parentNode;else return console.error("Invalid parentNode option."),a;c.appendChild(a)}return a},W=(a,b)=>{let c=a?a.toLocaleString("ko-KR"):"";if(a&&b){var d=0===a||0===b||b>=a?0:Math.ceil((a-b)/a*100);d&&(c=`<strike>${a.toLocaleString("ko-KR")}</strike><salerate>${d}</salerate>${b.toLocaleString("ko-KR")}`)}return c},X=(a,b,c)=>`            <div class="cp-shortform-img"><img src="${a}" loading="lazy"></div>            <div class="cp-shortform-desc">                <div class="cp-shortform-title">${b}</div>                <div class="cp-shortform-price">${c}</div>            </div>                `,Y=()=>{!H&&k[l].isMuted()?k[l].unMute():H&&!k[l].isMuted()&&k[l].mute()},L=()=>{console.log("check playing state: ",l,x);if(l&&!x){var a=`#clippop-player-container-${k[l].type&&"instagram"==k[l].type?"instagram":"youtube"}-${l}`;var b=n(a);b?(a=b.getBoundingClientRect(),a=0<=a.top&&0<=a.left&&a.bottom<=window.innerHeight&&a.right<=window.innerWidth):(console.warn(`Element with ID "${a}" not found.`),a=!1);b=k[l].getPlayerState();a&&b!==YT.PlayerState.PLAYING&&(k[l].playVideo(),console.log("- restart playing"))}},Z=()=>{const a=n("#clippop-link-to-origin-btn");l&&k[l]&&(a.style.display="instagram"==(k[l].type&&"instagram"==k[l].type?"instagram":"youtube")?"block":"none")},oa=a=>{console.log(`YouTube Player ready for video ID: ${a.target.getVideoData().video_id}`)},aa=()=>{if(1<R){const a=n("#clippop-scroll-down-btn"),b=new Event("click",{bubbles:!0,cancelable:!0});a.dispatchEvent(b)}else k[currentPlayerId]&&(k[currentPlayerId].seekTo(0),k[currentPlayerId].playVideo())},pa=a=>{const b=a.target.getVideoData().video_id;console.log("changed state: ",a.data,b);a.data===YT.PlayerState.ENDED?aa():a.data===YT.PlayerState.PAUSED?setTimeout(L,1500):a.data===YT.PlayerState.PLAYING&&(l=b,Z(),Y(),x&&k[b].pauseVideo())},ba=(a,b,c)=>{let d;return(...h)=>{const g=this,f=c&&!d;clearTimeout(d);d=setTimeout(()=>{d=null;c||a.apply(g,h)},b);f&&a.apply(g,h)}},qa=(a,b)=>{a.forEach(c=>{var d=c.target,h=d.getAttribute("data-video-type");const g=d.getAttribute("data-video-id");let f=null;if("youtube"===h||"instagram"===h)if(f=g,!f||!k[f])return;h=Array.from(F(".cp-shortform-video"));d=h.indexOf(d);if(c.isIntersecting){if(d!==J){if(-1!==J&&(c=h[J].getAttribute("data-video-id"))&&k[c])try{k[c].pauseVideo(),k[c].mute()}catch(q){console.error("prev pauseback failed:",q),setTimeout(L,1500)}if(f){if(k[f])try{k[f].seekTo(0),x||k[f].playVideo()}catch(q){console.error("playback failed:",q),l=f,setTimeout(L,1500)}else console.error("playback not found.");J=d}}}else if(f&&l!=f&&k[f])try{k[f].pauseVideo(),k[f].mute()}catch(q){console.error("pauseback failed:",q),setTimeout(L,1500)}})},ca=()=>{const a=new IntersectionObserver(qa,{root:null,rootMargin:"0px",threshold:.8});Array.from(F(".cp-shortform-video")).forEach((b,c)=>{b.getAttribute("data-video-id")&&a.observe(b)})},ta=a=>{const b=n("#clippop-shortform-container-wrapper-"+C),c=n("#clippop-top-btn-container"),d=n("#clippop-link-to-origin-btn"),h=n("#clippop-close-player-btn"),g=n("#clippop-mute-player-btn");let f=!1,q,A,y=null;const m=e=>{if("mousedown"!==e.type||0===e.button){f=!0;var r=b.getBoundingClientRect();if("touchstart"===e.type){if(!e.target||!e.target.id||"clippop-buttons-container"!=e.target.id)return;var z=e.touches[0];var M=z.clientX;z=z.clientY}else M=e.clientX,z=e.clientY;q=M-r.left;A=z-r.top;b.style.cursor="grabbing";p.body.classList.add("cp-shortform-container-dragging");B?(p.addEventListener("touchmove",t),p.addEventListener("touchend",D)):(p.addEventListener("mousemove",t),p.addEventListener("mouseup",D));e.preventDefault()}},t=e=>{if(f){if("touchmove"===e.type){e=e.touches[0];var r=e.clientX;e=e.clientY}else r=e.clientX,e=e.clientY;v=r-q;w=e-A;v=Math.max(0,Math.min(u.innerWidth-b.offsetWidth,v));w=Math.max(0,Math.min(u.innerHeight-b.offsetHeight,w));b.style.left=v+"px";b.style.top=w+"px";b.style.bottom="auto";b.style.right="auto"}},D=()=>{f&&(f=!1,b.style.cursor="grab",p.body.classList.remove("cp-shortform-container-dragging"),B?(p.removeEventListener("touchmove",t),p.removeEventListener("touchend",D),I()):(p.removeEventListener("mousemove",t),p.removeEventListener("mouseup",I)))},S=()=>{I(!0,!1)},ra=()=>{let e=!1;const r=u.innerWidth-b.offsetWidth,z=u.innerHeight-b.offsetHeight;0>v?(v=0,e=!0):v>r&&(v=r,e=!0);0>w?(w=0,e=!0):w>z&&(w=z,e=!0);e&&(b.style.transition="all 0.3s ease",b.style.left=v+"px",b.style.top=w+"px",b.style.bottom="auto",b.style.right="auto",setTimeout(()=>{b.style.transition=""},300))},da=()=>{setTimeout(ra,900)},I=(e=!0,r=!0)=>{clearTimeout(y);c.style.display=e?"flex":"none";e&&r&&!K&&(y=setTimeout(I,5E3,!1))},ea=e=>{e.preventDefault();e.stopPropagation();b.classList.remove("cp-shortform-container-pip-wrapper");b.classList.add("cp-shortform-container-wrapper");b.style.top="0px";b.style.left="0px";B?(b.removeEventListener("touchstart",m),u.removeEventListener("orientationchange",da)):(b.removeEventListener("mousedown",m),b.removeEventListener("mouseover",S),b.removeEventListener("mouseout",I));b.style.cursor="default";T(!0)},T=e=>{K=e;var r=n("#clippop-fullscreen-player-btn"),z=n("#clippop-buttons-container");const M=n("#clippop-play-btn-container"),fa=n("#clippop-scroll-btn-container");r&&(r.style.display=e?"none":"block",e?(r.removeEventListener("click",ea),z.style.pointerEvents="none",M.style.visibility="visible",fa.style.visibility="visible",p.body.classList.add("cp-shortform-container-no-scroll")):(r.addEventListener("click",ea),z.style.pointerEvents="inherit",M.style.visibility="hidden",fa.style.visibility="hidden",p.body.classList.remove("cp-shortform-container-no-scroll"),B?(b.addEventListener("touchstart",m),u.addEventListener("orientationchange",da)):(b.addEventListener("mousedown",m),b.addEventListener("mouseover",S),b.addEventListener("mouseout",I)),b.style.cursor="grab"));l&&(e=l)&&(r=n("#clippop-shortform-container"),(z=n(`.cp-shortform-video[data-video-id="${e}"]`))?r.scrollTo(0,z.offsetTop):console.warn(`Video element with ID "${e}" not found.`));I()},sa=e=>{e.preventDefault();e.stopPropagation();if(K){b.classList.remove("cp-shortform-container-wrapper");b.classList.add("cp-shortform-container-pip-wrapper");if(0!=v||0!=w)b.style.top=w+"px",b.style.left=v+"px";T(!1);x&&(e=new Event("click",{bubbles:!0,cancelable:!0}),B?b.dispatchEvent(e):n("#clippop-play-stop-btn").dispatchEvent(e))}else ha()},ja=e=>{k[l]&&(e?k[l].mute():k[l].unMute(),H=e,ia(H))},ia=e=>{g.innerHTML=e?'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06M6 5.04 4.312 6.39A.5.5 0 0 1 4 6.5H2v3h2a.5.5 0 0 1 .312.11L6 10.96zm7.854.606a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0"/>\n            </svg>\n            ':'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"viewBox="0 0 16 16">\n                <path d="M11.536 14.01A8.47 8.47 0 0 0 14.026 8a8.47 8.47 0 0 0-2.49-6.01l-.708.707A7.48 7.48 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303z"/>\n                <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.48 5.48 0 0 1 11.025 8a5.48 5.48 0 0 1-1.61 3.89z"/>\n                <path d="M10.025 8a4.5 4.5 0 0 1-1.318 3.182L8 10.475A3.5 3.5 0 0 0 9.025 8c0-.966-.392-1.841-1.025-2.475l.707-.707A4.5 4.5 0 0 1 10.025 8M7 4a.5.5 0 0 0-.812-.39L3.825 5.5H1.5A.5.5 0 0 0 1 6v4a.5.5 0 0 0 .5.5h2.325l2.363 1.89A.5.5 0 0 0 7 12zM4.312 6.39 6 5.04v5.92L4.312 9.61A.5.5 0 0 0 4 9.5H2v-3h2a.5.5 0 0 0 .312-.11"/>\n            </svg>\n            '};d&&d.addEventListener("click",e=>{e.preventDefault();e.stopPropagation();l&&k[l]&&(e=k[l].link)&&(ja(!0),u.open(e,"_blank"))});h&&h.addEventListener("click",sa);g&&(g.addEventListener("click",e=>{e.preventDefault();e.stopPropagation();ja(!H)}),ia(H));(()=>{const e=b.getBoundingClientRect();v=e.left;w=e.top})();T("pip"!=a)},ua=()=>{const a=n("#clippop-shortform-container-wrapper-"+C),b=n("#clippop-shortform-container"),c=n("#clippop-scroll-btn-container"),d=n("#clippop-play-stop-btn");let h=null,g=null;const f=()=>{(()=>{d.style.display="block";d.classList.add("cp-animation-fade-in");h=setTimeout(()=>{d.classList.remove("cp-animation-fade-in");d.classList.add("cp-animation-fade-out");g=setTimeout(()=>{d.classList.remove("cp-animation-fade-out");d.style.display="none";d.style.opacity=0},2E3)},700)})()},q=m=>{m.preventDefault();m.stopPropagation();x=!x;k[l]&&(x?k[l].pauseVideo():k[l].playVideo());m=x?'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>\n                <path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445"/>\n            </svg>\n            ':'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stop-circle" viewBox="0 0 16 16">\n                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>\n                <path d="M5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5z"/>\n            </svg>\n            ';clearTimeout(h);clearTimeout(g);d.innerHTML=m;d.className="cp-btn-animation-set";x?(d.style.display="block",d.classList.add("cp-animation-fade-in")):f()},A=m=>{const t=250<=m?"":"none";Array.from(F("#clippop-shortform-container-wrapper-"+C+" .cp-shortform-info")).forEach((D,S)=>{D.style.display=t});c.style.display=120<=u.innerWidth-m?"flex":"none"},y=new ResizeObserver(m=>{for(let t of m)m=t.contentRect.width,ba(A,500)(m)});B?a.addEventListener("click",q):(b.addEventListener("click",q),d.addEventListener("click",q));d.style.display="none";y.observe(b)},va=()=>{const a=n("#clippop-shortform-container");var b=f=>{f.preventDefault();f.stopPropagation();a.scrollBy({top:-a.offsetHeight,behavior:"smooth"})};const c=f=>{f.preventDefault();f.stopPropagation();5>=a.scrollHeight-a.clientHeight-a.scrollTop?a.scrollTo(0,0):a.scrollBy({top:a.offsetHeight,behavior:"smooth"})},d=()=>{const f=n("#clippop-scroll-up-btn"),q=n("#clippop-scroll-down-btn"),A=0>=a.scrollTop,y=5>=a.scrollHeight-a.clientHeight-a.scrollTop;f&&(f.disabled=A,f.style.opacity=A?"0.5":"1",f.style.cursor=A?"default":"pointer");q&&(q.disabled=y,q.style.opacity=y?"0.5":"1",q.style.cursor=y?"default":"pointer")},h=n("#clippop-scroll-up-btn"),g=n("#clippop-scroll-down-btn");h&&h.addEventListener("click",b);g&&g.addEventListener("click",c);b=ba(d,200);a.addEventListener("scroll",b);d()},wa=()=>{F("[data-clippop-uid]").forEach(a=>{const b=a.getAttribute("data-clippop-uid");b&&(a.style.cursor="pointer",a.addEventListener("click",()=>{const c=n(G("I2NsaXBwb3Atc2hvcnRmb3JtLWNvbnRhaW5lci13cmFwcGVyLQ==")+b);c?K||(v=(u.innerWidth-c.offsetWidth)/2,w=(u.innerHeight-c.offsetHeight)/2,c.style.transition="all 0.3s ease",c.style.left=v+"px",c.style.top=w+"px",c.style.bottom="auto",c.style.right="auto",setTimeout(()=>{c.style.transition=""},300)):(ha(),ka(b))}))})},U=()=>{Array.from(F("#clippop-shortform-container-wrapper-"+C+" .cp-shortform-video")).forEach((a,b)=>{b=a.getAttribute("data-video-type");const c=a.getAttribute("data-video-id"),d=a.getAttribute("data-video-link"),h=`clippop-player-container-${b}-${c}`;if("youtube"===b)c&&p.getElementById(h)?(console.log(`Initializing YouTube player for video ID: ${c}`),k[c]=new YT.Player(h,{height:"100%",width:"100%",videoId:c,playerVars:{enablejsapi:1,autoplay:0,controls:0,playsinline:1,mute:1,rel:0,loop:1,showinfo:0},events:{onReady:oa,onStateChange:pa}})):console.warn(`Player container not found or video ID missing for YouTube element: ${c}`);else if("instagram"===b){const g=n("#"+h+" video");c&&g?(console.log(`Embedding Instagram reel for ID: ${c}`),g.addEventListener("ended",()=>{console.log("changed state: ",0,c);aa()}),k[c]={type:"instagram",video_id:c,link:d,playVideo:()=>{if(g.paused)try{g.play(),l=c,Z(),Y()}catch(f){console.error(`Instagram player ${c} failed:`,f)}},pauseVideo:()=>{g.paused||(g.pause(),setTimeout(L,1500))},isMuted:()=>g.muted,mute:()=>{g.muted=!0},unMute:()=>{g.muted=!1},seekTo:f=>{g.currentTime=f},getPlayerState:()=>g.paused?2:1}):console.warn("Instagram embed wrapper not found or reel URL missing for Instagram element:",a)}})},xa=()=>{Array.from(F("#clippop-shortform-container-wrapper-"+C+" .cp-shortform-info")).forEach((a,b)=>{const c=a.getAttribute("data-product-no");c&&(a.addEventListener("click",d=>{u.open(ma+G("L3Byb2R1Y3QvZGV0YWlsLmh0bWw/Z2hvc3RfbWFsbF9pZD1jbGlwcG9wJnByb2R1Y3Rfbm89")+c,"_blank");d.preventDefault();d.stopPropagation()}),Q&&V&&na(G("L2FwaS92Mi9wcm9kdWN0cy8=")+c+G("P2ZpZWxkcz1wcm9kdWN0X25hbWUscHJpY2UscmV0YWlsX3ByaWNlLGRpc3BsYXksc2VsbGluZyxsaXN0X2ltYWdlLGRpc2NvdW50cHJpY2UmZW1iZWQ9ZGlzY291bnRwcmljZSZzaG9wX25vPQ==")+V).then(async function(d){if(d.product)if("T"==d.product.display&&"T"==d.product.selling){var h=d.product.retail_price&&d.product.retail_price>d.product.price?d.product.retail_price:d.product.price;let g=d.product.retail_price&&d.product.retail_price>d.product.price?d.product.price:0;g=d.product.discountprice&&d.product.discountprice.pc_discount_price?parseInt(d.product.discountprice.pc_discount_price):g;B&&(g=d.product.discountprice&&d.product.discountprice.mobile_discount_price?parseInt(d.product.discountprice.mobile_discount_price):g);if(-1!=O.indexOf("Cafe24Plus")||-1!=O.indexOf("Byapps"))g=d.product.discountprice&&d.product.discountprice.app_discount_price?parseInt(d.product.discountprice.app_discount_price):g;h=W(parseInt(h),g);d=X(d.product.list_image,d.product.product_name,h);a.innerHTML=d}else a.remove()}).catch(function(d){console.log("callCafe24API error: ",d)}))})},ya=()=>{var a=G("aHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaQ=="),b=n(`script[src="${a}"]`);u.YT&&u.YT.Player||b?(console.log("YouTube API already loaded"),U(),ca()):(b=p.createElement("script"),b.src=a,(a=p.getElementsByTagName("script")[0])&&a.parentNode?a.parentNode.insertBefore(b,a):p.head.appendChild(b),a=G("b25Zb3VUdWJlSWZyYW1lQVBJUmVhZHk="),"function"!==typeof u[a]?u[a]=()=>{U()}:setTimeout(U,1E3),setTimeout(ca,2E3))},la=a=>{for(let b=a.length-1;0<b;b--){const c=Math.floor(Math.random()*(b+1));[a[b],a[c]]=[a[c],a[b]]}return a},ha=()=>{l&&k[l]&&!x&&(x=!0,k[l].pauseVideo(),k[l].mute(),l="");F('[id^="clippop-shortform-container-wrapper-"]').forEach(a=>{a.remove()});k={};J=-1;R=0;K=!0;l="";H=!0;x=!1;w=v=0},za=(a,b)=>{C=a.clip_uid;var c=a.clip_index.full||99999;const d=a.clip_index.pip||1E4;var h=B?a.loc_pip.mobile.loc:a.loc_pip.pc.loc;b&&(h="ct");b=B?a.loc_pip.mobile.mx:a.loc_pip.pc.mx;const g=B?a.loc_pip.mobile.my:a.loc_pip.pc.my;let f="auto",q="auto",A="auto",y="auto";"lb"==h?(A=g+"px",y=b+"px"):"lt"==h?(f=g+"px",y=b+"px"):"rb"==h?(A=g+"px",q=b+"px"):"rt"==h?(f=g+"px",q=b+"px"):"ct"==h&&(f="30%",y="40%");b=`${f} ${q} ${A} ${y}`;h=B?a.loc_pip.mobile.pm:a.loc_pip.pc.pm;a=a.clip_index.rnd?la(a.clip_data):[...a.clip_data];R=a.length||0;c=E("style",{type:"text/css",textContent:`    .cp-shortform-container-wrapper {        display: flex;        position: fixed;        top: 0;        left: 0;        width: 100%;        height: 100%;        font-size: 16px;        background-color: rgba(0, 0, 0, 0.8);        z-index: ${c};        justify-content: center;        align-items: center;        overflow: hidden;    }    .cp-shortform-container-pip-wrapper {        display: flex;        position: fixed;        top: 0;        left: 0;        aspect-ratio: 9 / 16;        min-width: 145px;        width: 20%;        max-width: 300px;        height: auto;        font-size: 12px;        background-color: rgba(0, 0, 0, 0.8);        z-index: ${d};        justify-content: center;        align-items: center;        border-radius: 10px;        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);        overflow: hidden;        inset: ${b};    }    .cp-shortform-container-dragging {        cursor: grabbing !important;        user-select: none;        -webkit-user-select: none;        -moz-user-select: none;        -ms-user-select: none;            }    .cp-shortform-container-no-scroll{        overflow:hidden !important;    }     .cp-shortform-container {        aspect-ratio: 9 / 16;        height: 100%;        overflow-y: scroll;        scroll-snap-type: y mandatory;        -webkit-overflow-scrolling: touch;                position: relative;        &::-webkit-scrollbar {display: none;}        scrollbar-width: none;        -ms-overflow-style: none;            }    .cp-buttons-container {        display: flex;        position: absolute;        top: 0px;        left: 0px;                width: 100%;        height: 100%;    }    .cp-buttons-container:hover {        background-color: rgba(0, 0, 0, 0.5);    }            .cp-shortform-video {        height: 100%;        width: 100%;        display: flex;        justify-content: center;        align-items: center;        scroll-snap-align: start;        position: relative;        background-color: #000;        overflow: hidden;    }    .cp-player-wrapper iframe {        display: block;        width: 100%;        height: 100%;    }    .cp-shortform-overlay {        position: absolute;        top: 0;        left: 0;        width: 100%;        height: 100%;    }    .cp-shortform-info {        position: absolute;        bottom: 10px;        left: 10px;        width: calc(100% - 20px);        box-sizing: border-box;        padding: .3rem;        display : flex;        justify-content : flex-start;        background: rgba(255,255,255,0.5);        -webkit-backdrop-filter:blur(10px);        backdrop-filter:blur(10px);        border-radius: 10px;        cursor: pointer;        z-index: ${d};    }    .cp-shortform-info:hover {        background-color: #fff;    }    .cp-shortform-img img{        width: 4em;        height: 4em;        object-fit: cover;        padding: .2rem;        background-color: #fff;        border: 1px solid #ccc;        border-radius: 10px;        max-height: 100%;        vertical-align: middle;        box-sizing: border-box;    }    .cp-shortform-desc {        width: calc(100% - 90px);        margin-left:10px;        display : flex;        flex-direction: column;        justify-content: center;    }    .cp-shortform-title { width: 100%; font-weight: bold; margin-bottom: .2em; overflow: hidden; white-space: nowrap; word-break: break-all; text-overflow: ellipsis;}    .cp-shortform-price { width: 100%; font-size: 0.9em; font-weight: bold; overflow: hidden; white-space: nowrap; word-break: break-all; text-overflow: ellipsis;}    .cp-shortform-price strike { font-size: 0.9em; font-weight: normal; color: #555;}    .cp-shortform-price salerate { color: #ff0000; margin: 0 5px;}    .cp-shortform-price salerate::after { font-size: 0.7em; font-weight: normal; content: "%";}    .cp-top-btn-container {        position: absolute;        top: 0px;        left: 0px;        width: 100%;        padding: 10px;        display: flex;        justify-content: space-between;        box-sizing: border-box;    }    .cp-top-btn-container div{        display: flex;    }    .cp-top-btn-container svg, .cp-scroll-btn-container svg {        width: 32px;        height: 32px;    }            .cp-top-btn-container button, .cp-play-btn-container button, .cp-scroll-btn-container button {        width: 40px;        height: 40px;        background-color: transparent;        color: rgba(255, 255, 255, 0.8);        border: none;        border-radius: 50%;        cursor: pointer;        display: flex;        justify-content: center;        align-items: center;        line-height: 0.9;        pointer-events: auto;    }          .cp-top-btn-container button:hover, .cp-play-btn-container button:hover, .cp-scroll-btn-container button:hover {        color: white;    }    .cp-play-btn-container {        position: absolute;        top: calc(50% - 20px);        left: 0px;        width: 100%;        padding: 10px;        display : flex;        justify-content : center;        align-items: center;        box-sizing: border-box;    }    .cp-play-btn-container button {        width: 20%;        height: 20%;        min-width: 40px;        min-height: 40px;                max-width: 80px;        max-height: 80px;    }    .cp-play-btn-container svg {        width: 100%;        height: 100%;    }              .cp-scroll-btn-container {        position: absolute;        bottom: 0px;        left: 0px;        width: 100%;        padding: 10px;        display : flex;        flex-direction: column;        justify-content : flex-end;        align-items: end;        box-sizing: border-box;    }    .cp-btn-small svg {        width: 16px;        height: 16px;    }    .cp-btn-animation-set {        display: none;        opacity: 0;        will-change: opacity;        backface-visibility: hidden;        transform: translateZ(0);        visibility: visible;    }    .cp-animation-fade-in {        animation: cpAnimationFadeIn 0.5s ease-in forwards;    }    .cp-animation-fade-out {        animation: cpAnimationFadeOut 0.5s ease-out forwards;    }    @keyframes cpAnimationFadeIn {        0% { opacity: 0; }        100% { opacity: 1; }    }    @keyframes cpAnimationFadeOut {        0% { opacity: 1; }        100% { opacity: 0; }    }    @media (pointer: coarse) {        .cp-top-btn-container {            height: 60px;            background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);        }        .cp-top-btn-container button, .cp-play-btn-container button, .cp-scroll-btn-container button {            color: rgba(255, 255, 255, 1.0);        }        .cp-buttons-container:hover {            background-color: transparent;        }    }    `});p.head.appendChild(c);c=E("div",{id:"clippop-shortform-container-wrapper-"+C,class:"cp-shortform-container"+("pip"==h?"-pip":"")+"-wrapper"});p.body.appendChild(c);E("div",{id:"clippop-shortform-container",class:"cp-shortform-container",parentNode:"clippop-shortform-container-wrapper-"+C});a.forEach(m=>{var t="";if(m.product&&0<m.product.length){t=m.product[0];var D=W(t.price,t.sale);D=X(t.img,t.name,D);t=`<div class="cp-shortform-info" data-product-no="${t.no}">${D}</div>`}E("div",{class:["cp-shortform-video","cp-"+m.type],attributes:{"data-video-type":m.type,"data-video-id":m.id,"data-video-link":m.link?m.link:""},parentNode:"clippop-shortform-container",htmlContent:`                <div id="clippop-player-container-${m.type}-${m.id}" class="cp-player-wrapper">${"instagram"==m.type?`<video poster="${m.thum}" src="${m.url}" muted playsinline style="width: 100%; height: 100%; object-fit: contain;"></video>`:""}}</div>                <div class="cp-shortform-overlay"></div>                ${t}            `})});E("div",{id:"clippop-buttons-container",class:"cp-buttons-container",parentNode:"clippop-shortform-container-wrapper-"+C});E("div",{id:"clippop-top-btn-container",class:"cp-top-btn-container",parentNode:"clippop-buttons-container",htmlContent:'\n        <div>\n        <button id="clippop-link-to-origin-btn" title="Instagram\uc5d0\uc11c \ubcf4\uae30" style="display:none">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"/>\n            </svg>\n        </button>\n        </div>\n        <div>\n        <button id="clippop-mute-player-btn"></button>\n        <button id="clippop-fullscreen-player-btn" class="cp-btn-small" style="display:none">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707m0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707m-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707"/>\n            </svg>\n        </button>        \n        <button id="clippop-close-player-btn">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>\n            </svg>\n        </button>\n        </div>\n        '});E("div",{id:"clippop-play-btn-container",class:"cp-play-btn-container",parentNode:"clippop-buttons-container",htmlContent:'<button id="clippop-play-stop-btn" class="cp-btn-animation-set"></button>'});E("div",{id:"clippop-scroll-btn-container",class:"cp-scroll-btn-container",parentNode:"clippop-buttons-container",htmlContent:'\n        <button id="clippop-scroll-up-btn">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707z"/>\n            </svg>\n        </button>      \n        <button id="clippop-scroll-down-btn">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"/>\n            </svg>\n        </button>\n        '});ya();xa();ta(h);ua();va();wa()},Aa=(a,b)=>{if(a)if(a=b?a.filter(c=>c.clip_uid==b):a.filter(c=>!0===c.is_show&&(c.location.includes("MAIN")||"")),0<a.length){let c=0;1<a.length&&(c=Math.floor(Math.random()*a.length),a=la(a));za(a[c],b)}else b&&alert("\uc694\uccad\ud558\uc2e0 \ud074\ub9bd\ud31d \uc601\uc0c1\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},ka=a=>{P&&fetch(G("aHR0cHM6Ly93aXRoYXBwc2hvc3QubXljYWZlMjQuY29tL2NsaXBwb3AvanNvbj9taWQ9")+P,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(b){if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);return b.json()}).then(b=>Aa(b,a)).catch(function(b){console.log("Load Clips failed",b)})};ka()})(window,document);
