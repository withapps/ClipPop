/* ClipPop v1.0.0 Copyright 2025 withApps Licensed under Creative Commons Legal Code (https://github.com/withapps/ClipPop/blob/main/LICENSE)*/'use strict';(function(r,p){const P=navigator.userAgent;var N=r.location.pathname;const E=p.querySelectorAll.bind(p),n=p.querySelector.bind(p),G=atob,Q=(new RegExp("[?&]"+encodeURIComponent("mid")+"=([^&]*)")).exec(p.currentScript.src)[1],R=(new RegExp("[?&]"+encodeURIComponent("client_id")+"=([^&]*)")).exec(p.currentScript.src)[1],ma=a=>{a=E(a);try{return a[0].getAttribute("content")}catch(b){return""}},A=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(P)?!0:!1,na=(N=N.match(/\/skin-([a-z]+)\/?/))&&N[0]?N[0]:"";if(!Q||!R)return!1;let C="",k={},J=-1,S=0,K=!0,l="",H=!0,x=!1,v=0,w=0,O="object"===typeof CAFE24&&"undefined"!==typeof CAFE24.SDE_SHOP_NUM?CAFE24.SDE_SHOP_NUM:null;const oa=function(a){return new Promise(function(b,d){(function(c){c.get(a,function(f,h){f&&console.error(f);f?d(f):b(h)})})(CAFE24API.init({client_id:R}))})},F=(a,b={})=>{a=p.createElement(a);b.id&&(a.id=b.id);b.class&&(Array.isArray(b.class)?a.classList.add(...b.class):"string"===typeof b.class&&(a.className=b.class));if(b.attributes)for(var d in b.attributes)b.attributes.hasOwnProperty(d)&&a.setAttribute(d,b.attributes[d]);b.textContent?a.textContent=b.textContent:b.htmlContent&&(a.innerHTML=b.htmlContent);if(b.parentNode){if("string"===typeof b.parentNode){if(d=p.getElementById(b.parentNode),!d)return console.error(`Parent element with ID "${b.parentNode}" not found.`),a}else if(b.parentNode instanceof HTMLElement)d=b.parentNode;else return console.error("Invalid parentNode option."),a;d.appendChild(a)}return a},W=(a,b)=>{let d=a?a.toLocaleString("ko-KR"):"";if(a&&b){var c=0===a||0===b||b>=a?0:Math.ceil((a-b)/a*100);c&&(d=`<strike>${a.toLocaleString("ko-KR")}</strike><salerate>${c}</salerate>${b.toLocaleString("ko-KR")}`)}return d},X=(a,b,d)=>`            <div class="cp-shortform-img"><img src="${a}" loading="lazy"></div>            <div class="cp-shortform-desc">                <div class="cp-shortform-title">${b}</div>                <div class="cp-shortform-price">${d}</div>            </div>                `,Y=()=>{!H&&k[l].isMuted()?k[l].unMute():H&&!k[l].isMuted()&&k[l].mute()},L=()=>{console.log("check playing state: ",l,x);if(l&&!x){var a=`#clippop-player-container-${k[l].type&&"instagram"==k[l].type?"instagram":"youtube"}-${l}`;var b=n(a);b?(a=b.getBoundingClientRect(),a=0<=a.top&&0<=a.left&&a.bottom<=window.innerHeight&&a.right<=window.innerWidth):(console.warn(`Element with ID "${a}" not found.`),a=!1);b=k[l].getPlayerState();a&&b!==YT.PlayerState.PLAYING&&(k[l].playVideo(),console.log("- restart playing"))}},Z=()=>{const a=n("#clippop-link-to-origin-btn");l&&k[l]&&(a.style.visibility="instagram"==(k[l].type&&"instagram"==k[l].type?"instagram":"youtube")?"visible":"hidden")},pa=a=>{console.log(`YouTube Player ready for video ID: ${a.target.getVideoData().video_id}`)},aa=()=>{if(1<S){const a=n("#clippop-scroll-down-btn"),b=new Event("click",{bubbles:!0,cancelable:!0});a.dispatchEvent(b)}else k[currentPlayerId]&&(k[currentPlayerId].seekTo(0),k[currentPlayerId].playVideo())},qa=a=>{const b=a.target.getVideoData().video_id;console.log("changed state: ",a.data,b);a.data===YT.PlayerState.ENDED?aa():a.data===YT.PlayerState.PAUSED?setTimeout(L,1500):a.data===YT.PlayerState.PLAYING&&(l=b,Z(),Y(),x&&k[b].pauseVideo())},ba=(a,b,d)=>{let c;return(...f)=>{const h=this,g=d&&!c;clearTimeout(c);c=setTimeout(()=>{c=null;d||a.apply(h,f)},b);g&&a.apply(h,f)}},ra=(a,b)=>{a.forEach(d=>{var c=d.target,f=c.getAttribute("data-video-type");const h=c.getAttribute("data-video-id");let g=null;if("youtube"===f||"instagram"===f)if(g=h,!g||!k[g])return;f=Array.from(E(".cp-shortform-video"));c=f.indexOf(c);if(d.isIntersecting){if(c!==J){if(-1!==J&&(d=f[J].getAttribute("data-video-id"))&&k[d])try{k[d].pauseVideo(),k[d].mute()}catch(q){console.error("prev pauseback failed:",q),setTimeout(L,1500)}if(g){if(k[g])try{k[g].seekTo(0),x||k[g].playVideo()}catch(q){console.error("playback failed:",q),l=g,setTimeout(L,1500)}else console.error("playback not found.");J=c}}}else if(g&&l!=g&&k[g])try{k[g].pauseVideo(),k[g].mute()}catch(q){console.error("pauseback failed:",q),setTimeout(L,1500)}})},ca=()=>{const a=new IntersectionObserver(ra,{root:null,rootMargin:"0px",threshold:.8});Array.from(E(".cp-shortform-video")).forEach((b,d)=>{b.getAttribute("data-video-id")&&a.observe(b)})},ua=a=>{const b=n("#clippop-shortform-container-wrapper-"+C),d=n("#clippop-top-btn-container"),c=n("#clippop-link-to-origin-btn"),f=n("#clippop-close-player-btn"),h=n("#clippop-mute-player-btn");let g=!1,q,B,y=null;const m=e=>{if("mousedown"!==e.type||0===e.button){g=!0;var t=b.getBoundingClientRect();if("touchstart"===e.type){if(!e.target||!e.target.id||"clippop-buttons-container"!=e.target.id)return;var z=e.touches[0];var M=z.clientX;z=z.clientY}else M=e.clientX,z=e.clientY;q=M-t.left;B=z-t.top;b.style.cursor="grabbing";p.body.classList.add("cp-shortform-container-dragging");A?(p.addEventListener("touchmove",u),p.addEventListener("touchend",D)):(p.addEventListener("mousemove",u),p.addEventListener("mouseup",D));e.preventDefault()}},u=e=>{if(g){if("touchmove"===e.type){e=e.touches[0];var t=e.clientX;e=e.clientY}else t=e.clientX,e=e.clientY;v=t-q;w=e-B;v=Math.max(0,Math.min(r.innerWidth-b.offsetWidth,v));w=Math.max(0,Math.min(r.innerHeight-b.offsetHeight,w));b.style.left=v+"px";b.style.top=w+"px";b.style.bottom="auto";b.style.right="auto"}},D=()=>{g&&(g=!1,b.style.cursor="grab",p.body.classList.remove("cp-shortform-container-dragging"),A?(p.removeEventListener("touchmove",u),p.removeEventListener("touchend",D),I()):(p.removeEventListener("mousemove",u),p.removeEventListener("mouseup",I)))},T=()=>{I(!0,!1)},sa=()=>{let e=!1;const t=r.innerWidth-b.offsetWidth,z=r.innerHeight-b.offsetHeight;0>v?(v=0,e=!0):v>t&&(v=t,e=!0);0>w?(w=0,e=!0):w>z&&(w=z,e=!0);e&&(b.style.transition="all 0.3s ease",b.style.left=v+"px",b.style.top=w+"px",b.style.bottom="auto",b.style.right="auto",setTimeout(()=>{b.style.transition=""},300))},da=()=>{setTimeout(sa,900)},I=(e=!0,t=!0)=>{clearTimeout(y);d.style.display=e?"flex":"none";e&&t&&!K&&(y=setTimeout(I,5E3,!1))},ea=e=>{e.preventDefault();e.stopPropagation();b.classList.remove("cp-shortform-container-pip-wrapper");b.classList.add("cp-shortform-container-wrapper");b.style.top="0px";b.style.left="0px";A?(b.removeEventListener("touchstart",m),r.removeEventListener("orientationchange",da)):(b.removeEventListener("mousedown",m),b.removeEventListener("mouseover",T),b.removeEventListener("mouseout",I));b.style.cursor="default";U(!0)},U=e=>{K=e;var t=n("#clippop-fullscreen-player-btn"),z=n("#clippop-buttons-container");const M=n("#clippop-play-btn-container"),fa=n("#clippop-scroll-btn-container");t&&(t.style.display=e?"none":"block",e?(t.removeEventListener("click",ea),z.style.pointerEvents="none",M.style.visibility="visible",fa.style.visibility="visible",c.style.display="block",p.body.classList.add("cp-shortform-container-no-scroll")):(t.addEventListener("click",ea),z.style.pointerEvents="inherit",M.style.visibility="hidden",fa.style.visibility="hidden",p.body.classList.remove("cp-shortform-container-no-scroll"),A?(b.addEventListener("touchstart",m),r.addEventListener("orientationchange",da),c.style.display="none"):(c.style.display="block",b.addEventListener("mousedown",m),b.addEventListener("mouseover",T),b.addEventListener("mouseout",I)),b.style.cursor="grab"));l&&(e=l)&&(t=n("#clippop-shortform-container"),(z=n(`.cp-shortform-video[data-video-id="${e}"]`))?t.scrollTo(0,z.offsetTop):console.warn(`Video element with ID "${e}" not found.`));I()},ta=e=>{e.preventDefault();e.stopPropagation();if(K){b.classList.remove("cp-shortform-container-wrapper");b.classList.add("cp-shortform-container-pip-wrapper");if(0!=v||0!=w)b.style.top=w+"px",b.style.left=v+"px";U(!1);x&&(e=new Event("click",{bubbles:!0,cancelable:!0}),A?b.dispatchEvent(e):n("#clippop-play-stop-btn").dispatchEvent(e))}else ha()},ja=e=>{k[l]&&(e?k[l].mute():k[l].unMute(),H=e,ia(H))},ia=e=>{h.innerHTML=e?'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06M6 5.04 4.312 6.39A.5.5 0 0 1 4 6.5H2v3h2a.5.5 0 0 1 .312.11L6 10.96zm7.854.606a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0"/>\n            </svg>\n            ':'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"viewBox="0 0 16 16">\n                <path d="M11.536 14.01A8.47 8.47 0 0 0 14.026 8a8.47 8.47 0 0 0-2.49-6.01l-.708.707A7.48 7.48 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303z"/>\n                <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.48 5.48 0 0 1 11.025 8a5.48 5.48 0 0 1-1.61 3.89z"/>\n                <path d="M10.025 8a4.5 4.5 0 0 1-1.318 3.182L8 10.475A3.5 3.5 0 0 0 9.025 8c0-.966-.392-1.841-1.025-2.475l.707-.707A4.5 4.5 0 0 1 10.025 8M7 4a.5.5 0 0 0-.812-.39L3.825 5.5H1.5A.5.5 0 0 0 1 6v4a.5.5 0 0 0 .5.5h2.325l2.363 1.89A.5.5 0 0 0 7 12zM4.312 6.39 6 5.04v5.92L4.312 9.61A.5.5 0 0 0 4 9.5H2v-3h2a.5.5 0 0 0 .312-.11"/>\n            </svg>\n            '};c&&c.addEventListener("click",e=>{e.preventDefault();e.stopPropagation();l&&k[l]&&(e=k[l].link)&&(ja(!0),r.open(e,"_blank"))});f&&f.addEventListener("click",ta);h&&(h.addEventListener("click",e=>{e.preventDefault();e.stopPropagation();ja(!H)}),ia(H));(()=>{const e=b.getBoundingClientRect();v=e.left;w=e.top})();U("pip"!=a)},va=()=>{const a=n("#clippop-shortform-container-wrapper-"+C),b=n("#clippop-shortform-container"),d=n("#clippop-scroll-btn-container"),c=n("#clippop-play-stop-btn");let f=null,h=null;const g=()=>{(()=>{c.style.display="block";c.classList.add("cp-animation-fade-in");f=setTimeout(()=>{c.classList.remove("cp-animation-fade-in");c.classList.add("cp-animation-fade-out");h=setTimeout(()=>{c.classList.remove("cp-animation-fade-out");c.style.display="none";c.style.opacity=0},2E3)},700)})()},q=m=>{m.preventDefault();m.stopPropagation();x=!x;k[l]&&(x?k[l].pauseVideo():k[l].playVideo());m=x?'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>\n                <path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445"/>\n            </svg>\n            ':'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stop-circle" viewBox="0 0 16 16">\n                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>\n                <path d="M5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5z"/>\n            </svg>\n            ';clearTimeout(f);clearTimeout(h);c.innerHTML=m;c.className="cp-btn-animation-set";x?(c.style.display="block",c.classList.add("cp-animation-fade-in")):g()},B=m=>{const u=250<=m?"":"none";Array.from(E("#clippop-shortform-container-wrapper-"+C+" .cp-shortform-info")).forEach((D,T)=>{D.style.display=u});d.style.display=120<=r.innerWidth-m?"flex":"none"},y=new ResizeObserver(m=>{for(let u of m)m=u.contentRect.width,ba(B,500)(m)});A?a.addEventListener("click",q):(b.addEventListener("click",q),c.addEventListener("click",q));c.style.display="none";y.observe(b)},wa=()=>{const a=n("#clippop-shortform-container");var b=g=>{g.preventDefault();g.stopPropagation();a.scrollBy({top:-a.offsetHeight,behavior:"smooth"})};const d=g=>{g.preventDefault();g.stopPropagation();5>=a.scrollHeight-a.clientHeight-a.scrollTop?a.scrollTo(0,0):a.scrollBy({top:a.offsetHeight,behavior:"smooth"})},c=()=>{const g=n("#clippop-scroll-up-btn"),q=n("#clippop-scroll-down-btn"),B=0>=a.scrollTop,y=5>=a.scrollHeight-a.clientHeight-a.scrollTop;g&&(g.disabled=B,g.style.opacity=B?"0.5":"1",g.style.cursor=B?"default":"pointer");q&&(q.disabled=y,q.style.opacity=y?"0.5":"1",q.style.cursor=y?"default":"pointer")},f=n("#clippop-scroll-up-btn"),h=n("#clippop-scroll-down-btn");f&&f.addEventListener("click",b);h&&h.addEventListener("click",d);b=ba(c,200);a.addEventListener("scroll",b);c()},xa=()=>{E("[data-clippop-uid]").forEach(a=>{const b=a.getAttribute("data-clippop-uid");b&&(a.style.cursor="pointer",a.addEventListener("click",()=>{const d=n(G("I2NsaXBwb3Atc2hvcnRmb3JtLWNvbnRhaW5lci13cmFwcGVyLQ==")+b);d?K||(v=(r.innerWidth-d.offsetWidth)/2,w=(r.innerHeight-d.offsetHeight)/2,d.style.transition="all 0.3s ease",d.style.left=v+"px",d.style.top=w+"px",d.style.bottom="auto",d.style.right="auto",setTimeout(()=>{d.style.transition=""},300)):(ha(),ka(b))}))})},V=()=>{Array.from(E("#clippop-shortform-container-wrapper-"+C+" .cp-shortform-video")).forEach((a,b)=>{b=a.getAttribute("data-video-type");const d=a.getAttribute("data-video-id"),c=a.getAttribute("data-video-link"),f=`clippop-player-container-${b}-${d}`;if("youtube"===b)d&&p.getElementById(f)?(console.log(`Initializing YouTube player for video ID: ${d}`),k[d]=new YT.Player(f,{height:"100%",width:"100%",videoId:d,playerVars:{enablejsapi:1,autoplay:0,controls:0,playsinline:1,mute:1,rel:0,loop:1,showinfo:0},events:{onReady:pa,onStateChange:qa}})):console.warn(`Player container not found or video ID missing for YouTube element: ${d}`);else if("instagram"===b){const h=n("#"+f+" video");d&&h?(console.log(`Embedding Instagram reel for ID: ${d}`),h.addEventListener("ended",()=>{console.log("changed state: ",0,d);aa()}),k[d]={type:"instagram",video_id:d,link:c,playVideo:()=>{if(h.paused)try{h.play(),l=d,Z(),Y()}catch(g){console.error(`Instagram player ${d} failed:`,g)}},pauseVideo:()=>{h.paused||(h.pause(),setTimeout(L,1500))},isMuted:()=>h.muted,mute:()=>{h.muted=!0},unMute:()=>{h.muted=!1},seekTo:g=>{h.currentTime=g},getPlayerState:()=>h.paused?2:1}):console.warn("Instagram embed wrapper not found or reel URL missing for Instagram element:",a)}})},ya=()=>{Array.from(E("#clippop-shortform-container-wrapper-"+C+" .cp-shortform-info")).forEach((a,b)=>{const d=a.getAttribute("data-product-no");d&&(a.addEventListener("click",c=>{r.open(na+G("L3Byb2R1Y3QvZGV0YWlsLmh0bWw/Z2hvc3RfbWFsbF9pZD1jbGlwcG9wJnByb2R1Y3Rfbm89")+d,"_blank");c.preventDefault();c.stopPropagation()}),R&&O&&oa(G("L2FwaS92Mi9wcm9kdWN0cy8=")+d+G("P2ZpZWxkcz1wcm9kdWN0X25hbWUscHJpY2UscmV0YWlsX3ByaWNlLGRpc3BsYXksc2VsbGluZyxsaXN0X2ltYWdlLGRpc2NvdW50cHJpY2UmZW1iZWQ9ZGlzY291bnRwcmljZSZzaG9wX25vPQ==")+O).then(async function(c){if(c.product)if("T"==c.product.display&&"T"==c.product.selling){var f=c.product.retail_price&&c.product.retail_price>c.product.price?c.product.retail_price:c.product.price;let h=c.product.retail_price&&c.product.retail_price>c.product.price?c.product.price:0;h=c.product.discountprice&&c.product.discountprice.pc_discount_price?parseInt(c.product.discountprice.pc_discount_price):h;A&&(h=c.product.discountprice&&c.product.discountprice.mobile_discount_price?parseInt(c.product.discountprice.mobile_discount_price):h);if(-1!=P.indexOf("Cafe24Plus")||-1!=P.indexOf("Byapps"))h=c.product.discountprice&&c.product.discountprice.app_discount_price?parseInt(c.product.discountprice.app_discount_price):h;f=W(parseInt(f),h);c=X(c.product.list_image,c.product.product_name,f);a.innerHTML=c}else a.remove()}).catch(function(c){console.log("callCafe24API error: ",c)}))})},za=()=>{var a=G("aHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaQ=="),b=n(`script[src="${a}"]`);r.YT&&r.YT.Player||b?(console.log("YouTube API already loaded"),V(),ca()):(b=p.createElement("script"),b.src=a,(a=p.getElementsByTagName("script")[0])&&a.parentNode?a.parentNode.insertBefore(b,a):p.head.appendChild(b),a=G("b25Zb3VUdWJlSWZyYW1lQVBJUmVhZHk="),"function"!==typeof r[a]?r[a]=()=>{V()}:setTimeout(V,1E3),setTimeout(ca,2E3))},la=a=>{for(let b=a.length-1;0<b;b--){const d=Math.floor(Math.random()*(b+1));[a[b],a[d]]=[a[d],a[b]]}return a},ha=()=>{l&&k[l]&&!x&&(x=!0,k[l].pauseVideo(),k[l].mute(),l="");E('[id^="clippop-shortform-container-wrapper-"]').forEach(a=>{a.remove()});k={};J=-1;S=0;K=!0;l="";H=!0;x=!1;w=v=0},Aa=(a,b)=>{C=a.clip_uid;var d=a.clip_index.full||99999;const c=a.clip_index.pip||1E4;var f=A?a.loc_pip.mobile.loc:a.loc_pip.pc.loc;b&&(f="ct");b=A?a.loc_pip.mobile.mx:a.loc_pip.pc.mx;const h=A?a.loc_pip.mobile.my:a.loc_pip.pc.my;let g="auto",q="auto",B="auto",y="auto";"lb"==f?(B=h+"px",y=b+"px"):"lt"==f?(g=h+"px",y=b+"px"):"rb"==f?(B=h+"px",q=b+"px"):"rt"==f?(g=h+"px",q=b+"px"):"ct"==f&&(g="30%",y=A?"32%":"44%");b=`${g} ${q} ${B} ${y}`;f=A?a.loc_pip.mobile.pm:a.loc_pip.pc.pm;a=a.clip_index.rnd?la(a.clip_data):[...a.clip_data];S=a.length||0;d=F("style",{type:"text/css",textContent:`    .cp-shortform-container-wrapper {        display: flex;        position: fixed;        top: 0;        left: 0;        width: 100%;        height: 100%;        font-size: 16px;        background-color: rgba(0, 0, 0, 0.8);        z-index: ${d};        justify-content: center;        align-items: center;        overflow: hidden;    }    .cp-shortform-container-pip-wrapper {        display: flex;        position: fixed;        top: 0;        left: 0;        aspect-ratio: 9 / 16;        min-width: 145px;        width: 20%;        max-width: 300px;        height: auto;        font-size: 12px;        background-color: rgba(0, 0, 0, 0.8);        z-index: ${c};        justify-content: center;        align-items: center;        border-radius: 10px;        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);        overflow: hidden;        inset: ${b};    }    .cp-shortform-container-dragging {        cursor: grabbing !important;        user-select: none;        -webkit-user-select: none;        -moz-user-select: none;        -ms-user-select: none;            }    .cp-shortform-container-no-scroll{        overflow:hidden !important;    }     .cp-shortform-container {        aspect-ratio: 9 / 16;        height: 100%;        overflow-y: scroll;        scroll-snap-type: y mandatory;        -webkit-overflow-scrolling: touch;                position: relative;        &::-webkit-scrollbar {display: none;}        scrollbar-width: none;        -ms-overflow-style: none;            }    .cp-buttons-container {        display: flex;        position: absolute;        top: 0px;        left: 0px;                width: 100%;        height: 100%;    }    .cp-buttons-container:hover {        background-color: rgba(0, 0, 0, 0.5);    }            .cp-shortform-video {        height: 100%;        width: 100%;        display: flex;        justify-content: center;        align-items: center;        scroll-snap-align: start;        position: relative;        background-color: #000;        overflow: hidden;    }    .cp-player-wrapper iframe {        display: block;        width: 100%;        height: 100%;    }    .cp-shortform-overlay {        position: absolute;        top: 0;        left: 0;        width: 100%;        height: 100%;    }    .cp-shortform-info {        position: absolute;        bottom: 10px;        left: 10px;        width: calc(100% - 20px);        box-sizing: border-box;        padding: .3rem;        display : flex;        justify-content : flex-start;        background: rgba(255,255,255,0.5);        -webkit-backdrop-filter:blur(10px);        backdrop-filter:blur(10px);        border-radius: 10px;        cursor: pointer;        z-index: ${c};    }    .cp-shortform-info:hover {        background-color: #fff;    }    .cp-shortform-img img{        width: 4em;        height: 4em;        object-fit: cover;        padding: .2rem;        background-color: #fff;        border: 1px solid #ccc;        border-radius: 10px;        max-height: 100%;        vertical-align: middle;        box-sizing: border-box;    }    .cp-shortform-desc {        width: calc(100% - 90px);        margin-left:10px;        display : flex;        flex-direction: column;        justify-content: center;    }    .cp-shortform-title { width: 100%; font-weight: bold; margin-bottom: .2em; overflow: hidden; white-space: nowrap; word-break: break-all; text-overflow: ellipsis;}    .cp-shortform-price { width: 100%; font-size: 0.9em; font-weight: bold; overflow: hidden; white-space: nowrap; word-break: break-all; text-overflow: ellipsis;}    .cp-shortform-price strike { font-size: 0.9em; font-weight: normal; color: #555;}    .cp-shortform-price salerate { color: #ff0000; margin: 0 5px;}    .cp-shortform-price salerate::after { font-size: 0.7em; font-weight: normal; content: "%";}    .cp-top-btn-container {        position: absolute;        top: 0px;        left: 0px;        width: 100%;        padding: 10px;        display: flex;        justify-content: space-between;        box-sizing: border-box;    }    .cp-top-btn-container div{        display: flex;    }    .cp-top-btn-container svg, .cp-scroll-btn-container svg {        width: 32px;        height: 32px;    }            .cp-top-btn-container button, .cp-play-btn-container button, .cp-scroll-btn-container button {        width: 40px;        height: 40px;        background-color: transparent;        color: rgba(255, 255, 255, 0.8);        border: none;        border-radius: 50%;        cursor: pointer;        display: flex;        justify-content: center;        align-items: center;        line-height: 0.9;        pointer-events: auto;    }          .cp-top-btn-container button:hover, .cp-play-btn-container button:hover, .cp-scroll-btn-container button:hover {        color: white;    }    .cp-play-btn-container {        position: absolute;        top: calc(50% - 20px);        left: 0px;        width: 100%;        padding: 10px;        display : flex;        justify-content : center;        align-items: center;        box-sizing: border-box;    }    .cp-play-btn-container button {        width: 20%;        height: 20%;        min-width: 40px;        min-height: 40px;                max-width: 80px;        max-height: 80px;    }    .cp-play-btn-container svg {        width: 100%;        height: 100%;    }              .cp-scroll-btn-container {        position: absolute;        bottom: 0px;        left: 0px;        width: 100%;        padding: 10px;        display : flex;        flex-direction: column;        justify-content : flex-end;        align-items: end;        box-sizing: border-box;    }    .cp-btn-small svg {        width: 16px;        height: 16px;    }    .cp-btn-animation-set {        display: none;        opacity: 0;        will-change: opacity;        backface-visibility: hidden;        transform: translateZ(0);        visibility: visible;    }    .cp-animation-fade-in {        animation: cpAnimationFadeIn 0.5s ease-in forwards;    }    .cp-animation-fade-out {        animation: cpAnimationFadeOut 0.5s ease-out forwards;    }    @keyframes cpAnimationFadeIn {        0% { opacity: 0; }        100% { opacity: 1; }    }    @keyframes cpAnimationFadeOut {        0% { opacity: 1; }        100% { opacity: 0; }    }    @media (pointer: coarse) {        .cp-top-btn-container {            height: 60px;            background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);        }        .cp-top-btn-container button, .cp-play-btn-container button, .cp-scroll-btn-container button {            color: rgba(255, 255, 255, 1.0);        }        .cp-buttons-container:hover {            background-color: transparent;        }    }    `});p.head.appendChild(d);d=F("div",{id:"clippop-shortform-container-wrapper-"+C,class:"cp-shortform-container"+("pip"==f?"-pip":"")+"-wrapper"});p.body.appendChild(d);F("div",{id:"clippop-shortform-container",class:"cp-shortform-container",parentNode:"clippop-shortform-container-wrapper-"+C});a.forEach(m=>{var u="";if(m.product&&0<m.product.length){u=m.product[0];var D=W(u.price,u.sale);D=X(u.img,u.name,D);u=`<div class="cp-shortform-info" data-product-no="${u.no}">${D}</div>`}F("div",{class:["cp-shortform-video","cp-"+m.type],attributes:{"data-video-type":m.type,"data-video-id":m.id,"data-video-link":m.link?m.link:""},parentNode:"clippop-shortform-container",htmlContent:`                <div id="clippop-player-container-${m.type}-${m.id}" class="cp-player-wrapper">${"instagram"==m.type?`<video poster="${m.thum}" src="${m.url}" muted playsinline style="width: 100%; height: 100%; object-fit: contain;"></video>`:""}}</div>                <div class="cp-shortform-overlay"></div>                ${u}            `})});F("div",{id:"clippop-buttons-container",class:"cp-buttons-container",parentNode:"clippop-shortform-container-wrapper-"+C});F("div",{id:"clippop-top-btn-container",class:"cp-top-btn-container",parentNode:"clippop-buttons-container",htmlContent:'\n        <div>\n        <button id="clippop-link-to-origin-btn" title="Instagram\uc5d0\uc11c \ubcf4\uae30" style="display:none;visibility:hidden;">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"/>\n            </svg>\n        </button>\n        </div>\n        <div>\n        <button id="clippop-mute-player-btn"></button>\n        <button id="clippop-fullscreen-player-btn" class="cp-btn-small" style="display:none">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707m0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707m-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707"/>\n            </svg>\n        </button>        \n        <button id="clippop-close-player-btn">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>\n            </svg>\n        </button>\n        </div>\n        '});F("div",{id:"clippop-play-btn-container",class:"cp-play-btn-container",parentNode:"clippop-buttons-container",htmlContent:'<button id="clippop-play-stop-btn" class="cp-btn-animation-set"></button>'});F("div",{id:"clippop-scroll-btn-container",class:"cp-scroll-btn-container",parentNode:"clippop-buttons-container",htmlContent:'\n        <button id="clippop-scroll-up-btn">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707z"/>\n            </svg>\n        </button>      \n        <button id="clippop-scroll-down-btn">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"/>\n            </svg>\n        </button>\n        '});za();ya();ua(f);va();wa();xa()},Ba=(a,b)=>{if(a){var d=ma('[name="path_role"]'),c="";if(!b&&"PRODUCT_DETAIL"==d){var f="undefined"!==typeof iProductNo?iProductNo:"";if(!f&&O&&void 0!==r.sessionStorage){var h=r.sessionStorage.getItem("localRecentProduct"+O);null!==h&&(h=JSON.parse(h),!f&&h[0].iProductNo&&(f=h[0].iProductNo))}f&&(c="PRODUCT_DETAIL:"+f)}a=b?a.filter(g=>g.clip_uid==b):a.filter(g=>!0===g.is_show&&(g.location.includes("ALL")||g.location.includes(d)||c&&g.location.includes(c)));0<a.length?(f=0,1<a.length&&(f=Math.floor(Math.random()*a.length),a=la(a)),Aa(a[f],b)):b&&alert("\uc694\uccad\ud558\uc2e0 \ud074\ub9bd\ud31d \uc601\uc0c1\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}},ka=a=>{Q&&fetch(G("aHR0cHM6Ly93aXRoYXBwc2hvc3QubXljYWZlMjQuY29tL2NsaXBwb3AvanNvbj9taWQ9")+Q,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(b){if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);return b.json()}).then(b=>Ba(b,a)).catch(function(b){console.log("Load Clips failed",b)})};ka()})(window,document);
